<!DOCTYPE html>
<html>
    <head>
        <title>Ajax</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="../../lib/prism/prism.css" rel="stylesheet" type="text/css"/>
        <link href="../../lib/sm-default.css" rel="stylesheet" type="text/css"/>
        <link href="../../lib/sm-app.css" rel="stylesheet" type="text/css"/>
        <script src="../../lib/prism/prism.js" type="text/javascript"></script>
        <script src="AjaxRequest.js" type="text/javascript"></script>
        <script src="../select/SelectOption.js" type="text/javascript"></script>
        <style>
            textarea {
                height: 150px; 
                resize: none
            }
        </style>
    </head>
    <body>
        <div class="container padding-lr-prop font-default">
            <h1 class="align-center">
                <span class="text-blue">A</span>synchronous
                <span class="text-blue">J</span>avascript
                <span class="text-blue">A</span>nd
                <span class="text-blue">X</span>ml
            </h1>
            <hr class="border-bottom border-dark" />

            <div class="margin-top-high font-medium">
                Ajax é a sigla para <span class="bold">asynchronous javascript and xml</span>, isso mesmo,
                uma comunicação dinâmica entre cliente com o servidor.
                <p>Na prática real, nada mais é que carregar um arquivo ou uma página inteira dentro de outra
                    sem a necessidade de carregar todo o conteúdo anterior.</p>
                <p>Muito atraente quando precisamos enviar dados do cliente para o servidor e processa-los
                    sem a necessidade do ditamente recarregamento de conteúdo.
                </p>
                <blockquote class="blockquote-yellow">
                    <p>NOTA:</p>
                    A tecnologia AJAX apesar de útil deve ser usada com certo cuidado.
                    <p>Usar de forma leviana (exagerada) pode tornar uma aplicação muito mais lenta
                        do que simplesmente se ela não estivesse usando.</p>
                </blockquote>
                <div class="margin-top">
                    Existem diversas formas e utilidades para executar ajax, no básico e eficaz para que o cliente
                    se comunique com o servidor é usando o envio de dados por meio de GET ou POST.
                    <p>Se você já possui algum tipo de conhecimento na area back-end de desenvolvimento web
                        Já precisou processar esses dados, pricipalmente se já trabalhou com PHP.</p>
                    <p>Abaixo veremos a execução desses tipos de protocolos com o
                        <span class="bold text-red">AjaxRequest.js</span>, começando pelo GET depois POST</p>
                </div>
            </div>
            <hr class="border-bottom border-dark" />

            <div class="font-medium margin-top-high">
                <div id="carrega-ajax"></div>
                <div class="margin-top bg-green padding-all">
                    <p class="text-white font-large">GET</p>
                    <hr class="border-bottom border-dark-green" />
                    <button class="btn-default margin-top-min maximize-min" onclick="ajax.open('carrega-ajax', 'open.php?ajax=open&segundo_parametro=alguma_coisa')">Executar método open</button>
                    <button class="btn-default margin-top-min maximize-min" onclick="ajax.send('carrega-ajax', 'open.php?ajax=send', '?ajax=send')">Executar método send</button>
                    <button class="btn-default margin-top-min maximize-min" onclick="ajax.pop('carrega-ajax', 'open.php?ajax=pop', '?ajax=pop')">Executar método pop</button>
                </div>
            </div>

            <div class="margin-all">

                <pre class="language-html line-numbers"><code>&lt;div id="carrega-ajax"&gt;&lt;/div&gt;
  
&lt;button onclick="ajax.open('carrega-ajax', 'open.php')"&gt;Executar método open&lt;/button&gt;
&lt;button onclick="ajax.send('carrega-ajax', 'open.php', null)"&gt;Executar método send&lt;/button&gt;
&lt;button onclick="ajax.pop('carrega-ajax', 'open.php', null)"&gt;Executar método pop&lt;/button&gt;</code></pre>
            </div>

            <div class="bg-blue padding-all">
                <p class="text-white font-large">POST</p>
                <hr class="border-bottom border-dark-blue" />
                <div class="padding-all margin-top-min border-all border-black bg-white">
                    <form id="formulario" onsubmit="return false;">
                        <div class="row-pad margin-top">
                            <div class="col-dual">
                                <input type="text" name="text" class="input-line" placeholder="type text" />
                            </div>
                            <div class="col-dual">
                                <input type="password" name="password" class="input-line" placeholder="type password" />
                            </div>
                            <div class="col-dual">
                                <select class="select" id="fomajx" name="select">
                                    <option value="Opção 1">Option 1</option>
                                    <option value="Opção 2">Option 2</option>
                                    <option value="Opção 3">Option 3</option>
                                </select>
                            </div>
                            <div class="col-dual">
                                <label class="btn-dark text-white maximize" for="checkbox_1">checkbox 1</label>
                                <input type="checkbox" name="checkbox_1" id="checkbox_1" value="check 1" />
                                <label class="btn-dark text-white maximize" for="checkbox_2">checkbox 2</label>
                                <input type="checkbox" name="checkbox_2" id="checkbox_2" value="check 2" />
                            </div>
                        </div>
                        <div class="row-pad">
                            <div class="col-third">
                                <label class="btn-success text-white button-block" for="radio1">radio A-1</label>
                                <input type="radio" name="radio_a" id="radio1" value="radio A-1" checked="checked" />
                                <label class="btn-success text-white button-block" for="radio2">radio A-2</label>
                                <input type="radio" name="radio_a" id="radio2" value="radio A-2" />
                                <label class="btn-success text-white button-block" for="radio3">radio A-3</label>
                                <input type="radio" name="radio_a" id="radio3" value="radio A-3" />
                            </div>
                            <div class="col-third">
                                <label class="btn-warning text-white button-block" for="radio_b1">radio B-1</label>
                                <input type="radio" name="radio_b" id="radio_b1" value="radio B-1"/>
                                <label class="btn-warning text-white button-block" for="radio_b2">radio B-2</label>
                                <input type="radio" name="radio_b" id="radio_b2" value="radio B-2" checked="checked" />
                                <label class="btn-warning text-white button-block" for="radio_b3">radio B-3</label>
                                <input type="radio" name="radio_b" id="radio_b3" value="radio B-3"/>
                            </div>
                            <div class="col-third">
                                <label class="btn-danger text-white button-block" for="radio_c1">radio C-1</label>
                                <input type="radio" name="radio_c" id="radio_c1" value="radio C-1" />
                                <label class="btn-danger text-white button-block" for="radio_c2">radio C-2</label>
                                <input type="radio" name="radio_c" id="radio_c2" value="radio C-2" />
                                <label class="btn-danger text-white button-block" for="radio_c3">radio C-3</label>
                                <input type="radio" name="radio_c" id="radio_c3" value="radio C-3" checked="checked"/>
                            </div>
                        </div>
                        <p>textarea</p>
                        <div class="border-all border-dark">
                            <textarea name="textarea" class="input-default font-medium">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</textarea>
                        </div>

                        <div class="margin-top font-medium text-white">
                            <button class="btn-info margin-top-min" onclick="ajax.form('formulario', 'carrega-ajax', 'open.php');">Executar método form</button>
                            <button class="btn-info margin-top-min" onclick="ajax.formSend('formulario', 'carrega-ajax', 'open.php');">Executar método formSend</button>
                        </div>
                    </form>
                </div>
            </div>

            <pre class="language-html line-numbers"><code>&lt;div id="carrega-ajax"&gt;&lt;/div&gt;

&lt;form id="formulario" onsubmit="return false;"&gt;
    &lt;input type="text" name="text" placeholder="type text" /&gt;
    &lt;input type="password" name="password" placeholder="type password" /&gt;

    &lt;select name="select"&gt;
        &lt;option value="Opção 1"&gt;Option 1&lt;/option&gt;
        &lt;option value="Opção 2"&gt;Option 2&lt;/option&gt;
        &lt;option value="Opção 3"&gt;Option 3&lt;/option&gt;
    &lt;/select&gt;

    &lt;input type="checkbox" name="checkbox_1" value="check 1" /&gt;
    &lt;input type="checkbox" name="checkbox_2" value="check 2" /&gt;

    &lt;input type="radio" name="radio_a" value="radio A-1" checked="checked" /&gt;
    &lt;input type="radio" name="radio_a" value="radio A-2" /&gt;
    &lt;input type="radio" name="radio_a" value="radio A-3" /&gt;

    &lt;input type="radio" name="radio_b" value="radio B-1"/&gt;
    &lt;input type="radio" name="radio_b" value="radio B-2" checked="checked" /&gt;
    &lt;input type="radio" name="radio_b" value="radio B-3"/&gt;

    &lt;input type="radio" name="radio_c" value="radio C-1" /&gt;
    &lt;input type="radio" name="radio_c" value="radio C-2" /&gt;
    &lt;input type="radio" name="radio_c" value="radio C-3" checked="checked"/&gt;

    &lt;p&gt;textarea&lt;/p&gt;
    &lt;textarea name="textarea"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/textarea&gt;

    &lt;button onclick="ajax.form('formulario', 'carrega-ajax', 'open.php');"&gt;Executar método form&lt;/button&gt;
    &lt;button onclick="ajax.formSend('formulario', 'carrega-ajax', 'open.php');"&gt;Executar método formSend&lt;/button&gt;
&lt;/form&gt;
</code></pre>

            <div class="padding-left" style="margin-top: 10%">
                <p class="list">Execução via protocolo GET (
                    <span class="bold text-red">open</span>, 
                    <span class="bold text-red">send</span> e
                    <span class="bold text-red">pop</span>
                    ).</p>
                Cada um dos métodos possui o mesmo comportamento sobre o processamento dos dados,
                dada suas únicas diferenças em animações produzidas, além das possibilidades auxiliares
                na execução e envio de dados.
                <p>Basicamente apesar de serem três métodos, a execução de cada é baseada em duas formas.
                    Vejamos agora como executar cada um deles:</p>
            </div>

            <div class="margin-top padding-all bg-light">
                <p class="font-medium text-blue">open</p>
                <p>O método open é o mais simples dos três consiste em dois parâmetros obrigatórios.</p>
                <p>O primeiro nada mais é que informar um elemento #ID ao qual o arquivo que será
                    carregado deve ser mostrado na página.</p>
                <p>O segundo parâmetro é o arquivo "junto a sua extensão"; sim pois você poderá solicitar
                    o carregamento de um arquivo seja html, seja php, seja txt ou qual for.</p>
                <blockquote class="blockquote-red">Cuidado!!
                    <p>Não carregar arquivos de textos binários muito grandes</p></blockquote>
            </div>

            <div class="margin-top padding-all bg-light">
                <p class="font-medium text-blue">send</p>
                <p>Esse método consiste em três parâmetros, sendo os dois primeiros obrigatórios
                    (<span class="italic text-green">veja o método open</span>) o terceiro é opcional
                    você pode informa-lo ou não, ou simplesmente omitir.</p>
                <p>Esse terceiro parâmetro nada mais é que um injeção de um texto na barra de navegação
                    do navegador do usuário. Útil em cituações onde você precisa enviar dados par um outro
                    arquivo, e pelo servidor esses dados devem ser permanentes, mesmo que o usuário
                    atualize a página ou venha de outra url.</p>
                <pre class="language-html"><code>&lt;button onclick="ajax.send('carrega', 'arquivo.php?envio=parametro', ?envio=parametro)"&gt;Exemplo&lt;/button&gt;</code></pre>
                Nesse caso o <span class="bold">arquivo.php</span> receberá um índice
                <span class="bold">envio</span> na super-global GET sendo seu valor como
                <span class="bold">parametro</span>.
                <pre class="language-php"><code>&lt;?php
echo $_GET['envio']; // No caso desse exemplo será mostrado o texto "parametro"</code></pre>
                <p>Mas se por ventura precisasse desse valor no arquivo atual antes mesmo de executar o ajax?</p>
                Então é nisso que consiste essa função do método. Mas isso não modifica a url somente
                insere o texto correspondente.
                <p>O método send diferente o método open, executa uma animação de processo, indicando
                    que os dados estão sendo trafegados e carregados no mesmo local onde o suposto arquivo deve
                    ser exibido. Sua animação persiste até que dos dados tenham devidamente concluídos.
                </p>
            </div>

            <div class="margin-top padding-all bg-light">
                <p class="font-medium text-blue">pop</p>
                <p>O método pop possui as mesmas regras de execução e definição quanto ao método
                    <span class="italic text-green">send</span>. Sua única diferença é sua animação,
                    que não altera o local do carregamento, e sim um bloco representativo é
                    mostrado para determinar o processo de carregamento.
                </p>
            </div>

            <div class="padding-left" style="margin-top: 10%">
                <hr class="border-bottom border-light" />
                <p class="list">Execução via protocolo POST (
                    <span class="bold text-red">form</span> e
                    <span class="bold text-red">formSend</span>
                    ).</p>
                <p>Os dois métodos possuem comportamento idêntico, na execução quanto no processamento.</p>
                A única diferença é a animação de processo.
                <p>Sendo necessário o uso de três parâmetros, vejamos cada um deles:</p>
                <p>- O primeiro parâmetro é o #ID do form que vamos executar.</p>
                <p>- O segundo parâmetro é o #ID do local onde os dados/arquivo deve ser carregado.</p>
                <p>- O terceiro parâmetro é o arquivo ao qual vamos enviar os dados.</p>
            </div>

            <div class="margin-top padding-all bg-light">
                <p class="font-medium text-blue">form</p>
                Sua animação cobre todo elemento do formulário até a conclusão da requisição.
            </div>

            <div class="margin-top padding-all bg-light">
                <p class="font-medium text-blue">formSend</p>
                A animação acontece no mesmo local onde o arquivo de resposta será mostrado.
            </div>

            <div class="margin-top">
                Tanto o método form quanto formSend quando executados, o formulário se torna inacessível
                até a conclusão para impedir envios simultâneos.
                <p>Mas é necessário controle sobre o formulário, removendo o comportamento padrão do
                    navegador sobre o mesmo.</p>
                <p>Para isso podemos optar por um retorno falso na execução. 
                    <span class="bold text-blue">onsubmit</span>="<span class="bold text-red">return false;</span>"
                </p>
                Em todo caso aqui no meu exemplo como eu possuo 2 botões de submeter usei ao retorno falso.
                <p>Mas a execução pode diretamente retornar o método:</p>
                <pre class="language-html"><code>&lt;form id="id_do_formulario" onsubmit="return ajax.form('id_do_formulario', 'local_do_carregamento', 'arquivo.php');"&gt;
    &lt;input type="text" name="texto" /&gt;
    &lt;button&gt;Validar form&lt;/button&gt;
&lt;/form&gt;</code></pre>
            </div>

            <blockquote class="margin-top blockquote-yellow">
                Não necessariamente é nessesário que você adicione o comando <span class="bold">onsubmit</span>
                no escopo do form; ou seja você pode ativar o envio de um form por função ou botão externo
                ao formulário.
                Mas se usado o submit direto no form deve-se optar pelo retorno falso, prevendo que o
                navegador execute sua ação padrão para formulários.
            </blockquote>

            <div class="margin-top-high">
                <a class="href-link font-large"
                   href="install-ajaxresquest.js.html"
                   target="_blank" title="usar o AjaxRequest">
                    Clique aqui para saber como instalar o AjaxRequest.js
                </a>
            </div>
        </div>
        <div class="box-y-100"></div>
        <script>
            var ajax = new AjaxRequest();
            var sel = new SelectOption('fomajx');


        </script>
    </body>
</html>


